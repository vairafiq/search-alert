!function(){"use strict";!function(e){function a(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="delete"!==r?searchAlert.deleteText:searchAlert.addText;t.form&&(n=searchAlert.addText,a.text("Adding.."));var o=t.query?t.query:"",s=t.email?t.email:"",l=t.user?t.user:"",i=new FormData;i.append("action","update_search_notice"),i.append("search_alert_nonce",searchAlert.nonce),i.append("task",r),i.append("query",o),i.append("email",s),i.append("user",l),e.ajax({method:"POST",processData:!1,contentType:!1,url:searchAlert.ajaxurl,data:i,success:function(o){if(t.form){if(a.text("Saved"),setTimeout((function(){a.text(n),e(".search_alert_input").val("")}),800),!t.reload)return;window.location.reload()}else"add"===r?a.removeClass("searchalert_add").addClass("searchalert_delete").text(n):t.delete?(e("#search-alert-item-to-remove-"+o.data).remove(),a.remove()):a.removeClass("searchalert_delete").addClass("searchalert_add").text(n)},error:function(e){console.log(e)}})}e("body").on("click",".search_alert_add_subscriber",(function(r){r.preventDefault();var t={query:e(this).data("keyword"),email:e(this).siblings(".subscriber_email").val(),form:!0,reload:!0};a(e(this),"",t)})),e("body").on("click",".helpgent_unsubscribe",(function(r){r.preventDefault();var t=e(this).parent(),n={query:t.data("keyword"),email:t.data("email"),user:t.data("user"),form:!1,delete:!0};e(this).find(".helpgent_remove_icon").removeClass("remove-tag-icon").text("..."),a(t,"delete",n)})),e("body").on("click",".searchalert_import",(function(a){a.preventDefault();var r=new FormData,t=e(".searchalert_import_file")[0].files[0];t?(r.append("action","import_subscribers"),r.append("search_alert_nonce",searchAlert.nonce),r.append("csv_file",t),e(this).val("Importing in progress..."),e.ajax({method:"POST",processData:!1,contentType:!1,url:searchAlert.ajaxurl,data:r,success:function(a){e(this).val("Successfully imported. Redirecting..."),window.location.reload()},error:function(e){console.log(e)}})):alert("File is required")}))}(jQuery)}();
//# sourceMappingURL=core-admin.min.js.map