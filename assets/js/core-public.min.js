!function(){"use strict";!function(e){var a=function(e){if(""==e)return{};for(var a={},t=0;t<e.length;++t){var r=e[t].split("=",2);1==r.length?a[r[0]]="":a[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return a}(window.location.search.substr(1).split("&"));function t(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l="delete"!==r?searchAlert.deleteText:searchAlert.addText;s.form&&(l=searchAlert.addText,e(t).text("Adding.."));var c=a.q?a.q:"",d=a.s?a.s:"",o=(o=c||d)||(s.query?s.query:""),i=s.email?s.email:"",n=s.user?s.user:"",u=new FormData;u.append("action","update_search_notice"),u.append("search_alert_nonce",searchAlertf.nonce),u.append("task",r),u.append("query",o),u.append("email",i),u.append("user",n),e.ajax({method:"POST",processData:!1,contentType:!1,url:searchAlert.ajaxurl,data:u,success:function(a){if(s.form){if(e(t).text("Saved"),setTimeout((function(){e(t).text(l),e(".search_alert_input").val("")}),800),!s.reload)return;window.location.reload()}else"add"===r?e(t).removeClass("searchalert_add").addClass("searchalert_delete").text(l):s.delete?e("#search-alert-item-to-remove-"+a.data).remove():e(t).removeClass("searchalert_delete").addClass("searchalert_add").text(l)},error:function(e){console.log(e)}})}e("body").on("click",".searchalert_add",(function(e){e.preventDefault(),t(".searchalert_add","",{user:searchAlert.current_user_id})})),e("body").on("click",".searchalert_add_form",(function(a){a.preventDefault();var r=e(".search_alert_update").val(),s={query:e(".search_alert_input").val(),delete:!1,user:searchAlert.current_user_id,form:!0,reload:!0};if(s.query){if(r)t(".searchalert_add_form","delete",{query:r,delete:!0,form:!1});t(".searchalert_add_form","",s)}})),e("body").on("click",".searchalert_delete",(function(a){a.preventDefault(),t(".searchalert_delete","delete",{query:e(this).data("search-query"),delete:e(this).data("searchalert_delete_from_list")})})),e("body").on("click",".searchalert_edit",(function(a){a.preventDefault(),e(".search_alert_input").val(e(this).data("search-query")),e(".search_alert_update").val(e(this).data("search-query")),e(".searchalert_add_form").text("Update")})),e("body").on("submit","#searchalert-form",(function(a){a.preventDefault(),t(".searchalert_form_submit","",{query:e(".searchalert_keyword").val(),email:e(".searchalert_email").val(),form:!0,reload:!1}),e(".searchalert_keyword").val(""),e(".searchalert_email").val("")})),e("body").on("submit","#directorist_save_search",(function(a){a.preventDefault();var t=e(this).serialize();e("#directorist-save-search-notice").html('<span class="directorist-alert directorist-alert-info">Please wait...</span>'),e.post(searchAlert.ajaxurl,t,(function(a){a.success?(e("#directorist-save-search-notice").html('<span class="directorist-alert directorist-alert-success">'+a.data+"</span>"),setTimeout((function(){e("#directorist-save-search-notice").html("")}),1500)):e("#directorist-save-search-notice").html('<span class="directorist-alert directorist-alert-danger">'+a.data+"</span>")}),"json")})),e(".directorist_sl_update").on("click",(function(a){a.preventDefault();var t=e(this).data("keyword"),r=e(this).data("id"),s=e(this).data("category");e("#sl_category").val(s).select2(),e("#keyword").val(t),e("#search_id").val(r)}))}(jQuery)}();
//# sourceMappingURL=core-public.min.js.map