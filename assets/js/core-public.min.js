!function(){"use strict";!function(e){var t=function(e){if(""==e)return{};for(var t={},a=0;a<e.length;++a){var r=e[a].split("=",2);1==r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}(window.location.search.substr(1).split("&"));function a(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l="delete"!==r?searchAlert.deleteText:searchAlert.addText;s.form&&(l=searchAlert.addText,e(a).text("Adding.."));var c=t.q?t.q:"",d=t.s?t.s:"",o=(o=c||d)||(s.query?s.query:""),i=s.email?s.email:"",n=s.user?s.user:"",u=new FormData;u.append("action","update_search_notice"),u.append("search_alert_nonce",searchAlertf.nonce),u.append("task",r),u.append("query",o),u.append("email",i),u.append("user",n),e.ajax({method:"POST",processData:!1,contentType:!1,url:searchAlert.ajaxurl,data:u,success:function(t){if(s.form){if(e(a).text("Saved"),setTimeout((function(){e(a).text(l),e(".search_alert_input").val("")}),800),!s.reload)return;window.location.reload()}else"add"===r?e(a).removeClass("searchalert_add").addClass("searchalert_delete").text(l):s.delete?e("#search-alert-item-to-remove-"+t.data).remove():e(a).removeClass("searchalert_delete").addClass("searchalert_add").text(l)},error:function(e){console.log(e)}})}e("body").on("click",".searchalert_add",(function(e){e.preventDefault(),a(".searchalert_add","",{user:searchAlert.current_user_id})})),e("body").on("click",".searchalert_add_form",(function(t){t.preventDefault();var r=e(".search_alert_update").val(),s={query:e(".search_alert_input").val(),delete:!1,user:searchAlert.current_user_id,form:!0,reload:!0};if(s.query){if(r)a(".searchalert_add_form","delete",{query:r,delete:!0,form:!1});a(".searchalert_add_form","",s)}})),e("body").on("click",".searchalert_delete",(function(t){t.preventDefault(),a(".searchalert_delete","delete",{query:e(this).data("search-query"),delete:e(this).data("searchalert_delete_from_list")})})),e("body").on("click",".searchalert_edit",(function(t){t.preventDefault(),e(".search_alert_input").val(e(this).data("search-query")),e(".search_alert_update").val(e(this).data("search-query")),e(".searchalert_add_form").text("Update")})),e("body").on("submit","#searchalert-form",(function(t){t.preventDefault(),a(".searchalert_form_submit","",{query:e(".searchalert_keyword").val(),email:e(".searchalert_email").val(),form:!0,reload:!1}),e(".searchalert_keyword").val(""),e(".searchalert_email").val("")})),e("body").on("submit","#directorist_save_search",(function(t){t.preventDefault();var a=e(this).serialize();e("#directorist-save-search-notice").html('<span class="directorist-alert directorist-alert-info">Please wait...</span>'),e.post(searchAlert.ajaxurl,a,(function(t){t.success?(e("#directorist-save-search-notice").html('<span class="directorist-alert directorist-alert-success">'+t.data+"</span>"),setTimeout((function(){e("#directorist-save-search-notice").html("")}),1500)):e("#directorist-save-search-notice").html('<span class="directorist-alert directorist-alert-danger">'+t.data+"</span>")}),"json")})),e("body").on("click",".directorist_sl_update",(function(t){t.preventDefault();var a=e(this).data("keyword"),r=e(this).data("id"),s=e(this).data("category");e("#sl_category").val(s).select2(),e("#keyword").val(a),e("#search_id").val(r)})),e("body").on("click",".directorist_sl_delete",(function(t){t.preventDefault();var a=e(this).data("id"),r=e(this).data("nonce"),s={action:"sl_delete_item",id:a,directorist_nonce:r};e.post(searchAlert.ajaxurl,s,(function(t){t.error?alert(t.error):e(".sl_item_"+a).fadeOut(300)}))}))}(jQuery)}();
//# sourceMappingURL=core-public.min.js.map