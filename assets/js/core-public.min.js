!function(){"use strict";!function(e){var a=function(e){if(""==e)return{};for(var a={},r=0;r<e.length;++r){var t=e[r].split("=",2);1==t.length?a[t[0]]="":a[t[0]]=decodeURIComponent(t[1].replace(/\+/g," "))}return a}(window.location.search.substr(1).split("&"));function r(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],d="delete"!==t?searchAlert.deleteText:searchAlert.addText;l.form&&(d=searchAlert.addText,e(r).text("Adding.."));var s=a.q?a.q:"",c=a.s?a.s:"",o=(o=s||c)||(l.query?l.query:""),n=l.email?l.email:"",u=l.user?l.user:"",i=new FormData;i.append("action","update_search_notice"),i.append("search_alert_nonce",searchAlert.nonce),i.append("task",t),i.append("query",o),i.append("email",n),i.append("user",u),e.ajax({method:"POST",processData:!1,contentType:!1,url:searchAlert.ajaxurl,data:i,success:function(a){if(l.form){if(e(r).text("Saved"),setTimeout((function(){e(r).text(d),e(".search_alert_input").val("")}),800),!l.reload)return;window.location.reload()}else"add"===t?e(r).removeClass("searchalert_add").addClass("searchalert_delete").text(d):l.delete?e("#search-alert-item-to-remove-"+a.data).remove():e(r).removeClass("searchalert_delete").addClass("searchalert_add").text(d)},error:function(e){console.log(e)}})}e("body").on("click",".searchalert_add",(function(e){e.preventDefault(),r(".searchalert_add","",{user:searchAlert.current_user_id})})),e("body").on("click",".searchalert_add_form",(function(a){a.preventDefault();var t=e(".search_alert_update").val(),l={query:e(".search_alert_input").val(),delete:!1,user:searchAlert.current_user_id,form:!0,reload:!0};if(l.query){if(t)r(".searchalert_add_form","delete",{query:t,delete:!0,form:!1});r(".searchalert_add_form","",l)}})),e("body").on("click",".searchalert_delete",(function(a){a.preventDefault(),r(".searchalert_delete","delete",{query:e(this).data("search-query"),delete:e(this).data("searchalert_delete_from_list")})})),e("body").on("click",".searchalert_edit",(function(a){a.preventDefault(),e(".search_alert_input").val(e(this).data("search-query")),e(".search_alert_update").val(e(this).data("search-query")),e(".searchalert_add_form").text("Update")})),e("body").on("submit","#searchalert-form",(function(a){a.preventDefault(),r(".searchalert_form_submit","",{query:e(".searchalert_keyword").val(),email:e(".searchalert_email").val(),form:!0,reload:!1}),e(".searchalert_keyword").val(""),e(".searchalert_email").val("")}))}(jQuery)}();
//# sourceMappingURL=core-public.min.js.map