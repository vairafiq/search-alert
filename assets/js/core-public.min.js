!function(){"use strict";!function(e){var a=function(e){if(""==e)return{};for(var a={},t=0;t<e.length;++t){var r=e[t].split("=",2);1==r.length?a[r[0]]="":a[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return a}(window.location.search.substr(1).split("&"));function t(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],d="delete"!==r?searchAlert.deleteText:searchAlert.addText;l.form&&(d=searchAlert.addText,e(t).text("Adding.."));var c=a.q?a.q:"",o=a.s?a.s:"",n=(n=c||o)||(l.query?l.query:""),s=(a.in_cat?a.in_cat:l.category&&l.category,new FormData);s.append("action","update_search_notice"),s.append("search_alert_nonce",searchAlert.nonce),s.append("task",r),s.append("query",n),console.log(n),e.ajax({method:"POST",processData:!1,contentType:!1,url:searchAlert.ajaxurl,data:s,success:function(a){if(l.form)return e(t).text("Saved"),setTimeout((function(){e(t).text(d),e(".search_alert_input").val("")}),800),void window.location.reload();"add"===r?e(t).removeClass("searchalert_add").addClass("searchalert_delete").text(d):l.delete?e("#search-alert-item-to-remove-"+a.data).remove():e(t).removeClass("searchalert_delete").addClass("searchalert_add").text(d)},error:function(e){console.log(e)}})}e("body").on("click",".searchalert_add",(function(e){e.preventDefault(),t(".searchalert_add")})),e("body").on("click",".searchalert_add_form",(function(a){a.preventDefault();var r=e(".search_alert_update").val(),l={query:e(".search_alert_input").val(),delete:!1,form:!0};if(l.query){if(r)t(".searchalert_add_form","delete",{query:r,delete:!0,form:!1});t(".searchalert_add_form","",l)}})),e("body").on("click",".searchalert_delete",(function(a){a.preventDefault(),t(".searchalert_delete","delete",{query:e(this).data("search-query"),delete:e(this).data("searchalert_delete_from_list")})})),e("body").on("click",".searchalert_edit",(function(a){a.preventDefault(),e(".search_alert_input").val(e(this).data("search-query")),e(".search_alert_update").val(e(this).data("search-query")),e(".searchalert_add_form").text("Update")}))}(jQuery)}();
//# sourceMappingURL=core-public.min.js.map